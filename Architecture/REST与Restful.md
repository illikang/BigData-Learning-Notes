# REST与Restful

## 什么是RESTful

REST（Representatinal state transfer）表述性状态转移。REST指的是一组架构约束条件和原则。“就是在符合架构原理的前提下，理解和评估以网络为基础的应用软件的架构设计，得到一个功能强、性能好、适宜通信的架构。”

如果一个架构符合REST的约束条件和原则，我们就称它为RESTful架构。

REST本身并没有创造新的技术、组件或服务，而隐藏在RESTful背后的理念就是使用Web的现有特征和能力，更好地使用现有Web标准中的一些准则和约束。虽然REST本身受Web技术的影响很深，但是理论上REST架构风格并不是绑定在HTTP上，只不过目前HTTP是唯一与REST相关的实例。所以我们描述的REST也是通过HTTP实现的REST。

## 理解RESTful

要理解RESTful架构，需要理解Representational State Transfer这个词组到底是什么意思，它的每一个词都有些什么涵义。下面我们结合REST原则，围绕资源展开讨论，从资源的定义、获取、表述、关联、状态变迁等角度，列举一些关键概念并加以解释。

  * 资源与URI
  * 统一资源接口
  * 资源的表述
  * 资源的链接
  * 状态的转移

### 资源与URI

REST全程是表述性状态转移，那究竟指的是什么的表述？其实指的就是资源。任何事物，只要有被引用到的必要，它就是一个资源。资源可以是实体（例如手机号码），也可以只是一个抽象概念（例如价值）。

要让一个资源可以被识别，需要有个唯一标识，在Web中这个唯一标识就是URI（Uniform Resource Identifier）。URI既可以看成是资源的地址，也可以看成是资源的名称。如果某些信息没有使用URI来表示，那它就不能算是一个资源，只能算是资源的一些信息而已。URI的设计应该遵循可寻址性原则，具有自描述性，需要在形式上给人以直觉上的关联。
下面是URI设计上的一些技巧：
  * 使用“ _ ”或者" - "来让URI可读性更好
  * 使用“ / ”来表示资源的层级关系
  * 使用“ ？ ”用来过滤资源
  * “ ， ”或“ ； ”可以用来表示同级资源的关系


### 统一资源接口

RESTful架构应该遵循统一接口原则，统一接口包含了一组受限的预定义操作，不论什么样的资源，都是通过使用相同的接口进行资源的访问。接口应该使用标准的HTTP方法如GET,PUT和POST，并遵循这些方法的语义。

如果按照HTTP方法的语义来暴露资源，那么接口将会拥有安全性和幂等性的特性，例如GET和HEAD请求都是安全的，无论请求多少次，都不会改变服务器状态。而GET,HEAD,PUT和DELETE请求都是幂等的，无论对资源操作多少次，结果总是一样的，后面的请求并不会产生比第一次更多的影响。
  * 统一资源接口对URI有什么指导意义？

  统一资源接口要求使用标准的HTTP方法对资源进行操作，所以URI只应该来表示资源的名称，而不应该包括资源的操作。通俗来说，URI不应该使用动作来描述。例如，下面是一些不符合接口要求的URI：
    * GET/getUser/1
    * POST/createUser
    * PUT/updateUser/1
    * DELETE/deleteUser/1

### 资源的表述
上面提到，客户端通过HTTP方法可以获取资源，是吧？不，确切的说，客户端获取的只是资源的表述而已。资源在外界的具体呈现，可以有多种表述（或成为表现、表示）形式，在客户端和服务端之间传送的也是资源的表述，而不是资源本身。例如文本资源可以采用html,xml,json等格式，图片可以使用PNG或JPG展现出来。

资源的表述包括数据和描述数据的元数据，例如，HTTP头“Contect-Type”就是这样一个元数据属性。那么客户端如何知道服务器端提供哪种表述形式呢？答案是可以通过HTTP内容协商，客户端可以通过Accept请求一种特定格式的表述，服务端则通过Content-Type告诉客户端资源的表述形式。


知乎大神Ivony有句话说的好：URL定位资源，用HTTP动词（GET,POST,DELETE,DETC）描述操作。

### 引用：http://www.runoob.com/w3cnote/restful-architecture.html
