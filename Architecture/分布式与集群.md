* [分布式与集群](#分布式与集群)
    * [引例](#引例)
    * [一、什么分布式](#一、什么分布式)
    * [二、什么集群](#二、什么集群)
    * [三、分布式与集群的区别](#三、分布式与集群的区别)
    * [四、结合工程架构来看集群与分布](#四、结合工程架构来看集群与分布)

# 分布式与集群
## 引例
先用一个生活中的例子来说明：

小饭店原来只有一个厨师，切菜洗菜备料炒菜全干。后来客人多了，厨房一个厨师忙不过来，又请了个厨师，两个厨师都能炒一样的菜，两个厨师的关系是集群。

为了让厨师专心炒菜，把菜炒到极致，再请了个配菜师负责切菜、备菜、备料，厨师和配菜师的关系是分布式。

一个配菜师也忙不过来了，有请了个配菜师，两个配菜师关系是集群。一个配菜师因故请假，但是其余的配菜师还是该干啥就干啥，只是没请假的配菜师任务量加重了，但他的任务和职责是不变的，这是集群。

集群：多个人在一起做同样的事。
分布式：多个人在一起做不同的事。

## 一、什么是分布式

  分布式系统是指，将某个特定任务拆分成多个子任务，然后分配子任务到不同的子系统，最终由多个子系统协同合作完成特定任务。不同的业务模块部署在不同的服务器上，或者同一个业务模块分拆多个子业务，部署在不同的服务器上。

## 二、什么是集群

  集群是提供更多的系统来完成同样的任务。

  集群是一个统称，它分为好几种，比如高性能科学集群、负载均衡集群、高可用性集群等。

  高性能集是利用一个集群的多台机器共同完成同一件任务，使得完成任务的速度和可靠性都远远高于单机的运行效果，弥补了单机性能上的不足。该集群在天气预报、环境监控等数据量大、计算复杂的环境中应用比较多。

  负载均衡集群在网站中使用较多。它是利用一个集群中的多台单机，完成许多并行的小的工作。一般情况下，如果一个应用使用的人多了，那么用户请求的响应时间就会增大，机器的性能也会受到影响。如果使用负载均衡集群，那么集群中任意一台机器都能响应用户的请求，这样集群就会在用户发出请求之后，选择当时负载最小，能够提供最好的服务的这台机器来接受请求并响应，这样就可用集群来增加系统的可用性和稳定性。

  高可用性集群是利用集群中系统的冗余，当系统中某台机器发生损坏的时候，其他的机器可以迅速的接替它来启动服务，等待故障机的维修和返回，最大限度的保证集群中服务的可用性。这类系统一般在银行、电信服务这类对系统可靠性有高的要求的领域有着广泛的应用。

  在集群的这三种基本类型之间，经常会发生交叉、混合。比如：在高可用性的集群系统中也可以在其节点之间实现负载均衡，同时仍然维持着其高可用性。

## 三、分布式与集群的区别与联系
### 区别
  1. 集群和分布式都是由多个节点组成，但是集群之间的通信协调基本不需要；而分布式各个节点的通信协调必不可少。
  2. 集群主要是简单加机器解决问题，对于问题本身不做任何分解；分布式里必然包含任务分解与答案归并。

### 联系

  分布式与集群都是相对中心化而来，强调的是任务在多个物理隔离的节点上进行。中心化带来的主要问题是可靠性，若中心节点宕机则整个系统不可用。分布式和集群不仅能解决中心化问题，同时还提供了负载均衡。
## 四、结合工程架构来看集群与分布
  1. 先来看一个简单而常用的架构：

  ![](img/webserver.gif)

  在负载均衡服务器后加一堆web服务器，然后再上面搞一个缓存服务器来保存临时状态，后面共享一个数据库。这种架构只是在基本web服务器架构的基础上增加了web server集群，web server之间没有任何联系，所以结构和实现都非常简单。

  2. 真正的分布式集群中，除了业务被拆分到不同环节以外，每个环节上都可能有集群需求，比如前端负载，缓存系统，数据库，数据处理等等都需要提供高可用、高性能以及负载均衡的支持。按照最完备的分布式体系来看，可以由一下模块组成：
  
    * 分布式任务处理服务：负责具体的业务逻辑处理
    * 分布式节点注册和查询：负责管理所有分布式节点的命名和物理信息的注册与查询，是节点之间的桥梁。
    * 分布式DB：分布式结构话数据存取
    * 分布式Cache:分布式缓存数据（非持久化）存取
    * 分布式文件：分布式文件存取
    * 网络通信：节点之间的网络数据通信
    * 监控管理：搜集、监控和诊断所有节点运行状态
    * 分布式编程语言：用于分布式环境下的专有编程语言，比如Elang,Scala
    * 分布式算法：为解决分布式环境下一些特有问题的算法，比如解决一致性问题的Paxos算法。

   因此，若要深入研究云计算和分布式，就得深入研究以上领域，而这些领域每一块的水都很深，都需要很底层的知识和技术来支撑，所以，对于想提升技术的开发者来说，以分布式作为切入点是非常好的，可以以此为线索，探索计算机世界的各个角落。
